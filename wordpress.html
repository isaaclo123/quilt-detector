<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Serena Quilt Patch Viewer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <style>
    html, body {
          height: auto; width: 100vw; margin: 0; padding: 0;
a {
  color: #F48FB1;
  text-decoration: underline;
}
a:hover, a:focus {
  text-decoration: underline;
  color: #F48FB1;
}
          font-family: 'Sitka Text', serif; overflow: visible;
    }
    .quilt-wrap {
      position: relative;
      overflow: auto;
      display: block;
      width: 100%;
      max-width: 100vw;
      max-height: 92vh;
      margin: 0 auto;
        }
    
    #quilt-bg {
      display: block;
      max-width: 95vw;
      max-height: 90vh;
      width: auto;
      height: auto;
      object-fit: contain;
      background: #222;
      user-select: none;
      pointer-events: none;
      z-index: 1;
      margin: 0 auto;
      position: relative;
    }
    #patch-rects {
      position: absolute; left: 0; top: 0; pointer-events: none; z-index: 10;
      width: 0; height: 0; overflow: visible;
    }
    .patch-rect {
      fill: rgba(0,0,0,0);
      pointer-events: all;
      cursor: pointer;
      transition: stroke-width 0.19s, stroke 0.22s, fill 0.16s, filter 0.28s;
      filter: drop-shadow(0px 0px 0px rgba(227,122,0,0));
    }
    .patch-rect.active,
    .patch-rect:focus,
    .patch-rect:hover {
      stroke: #ffbcc8; stroke-width: 5px; fill: rgba(255,188,200,0.14);
            filter: drop-shadow(0 2.5px 14px rgba(255,209,231,0.25));
      z-index: 20;
    }
    .modal-backdrop {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.62);
      z-index: 9999; align-items: center; justify-content: center; opacity: 0;
      pointer-events: none;
      transition: opacity 0.33s cubic-bezier(.48,1,.1,.94);
    }
    .modal-backdrop.active {
      display: flex; opacity: 1; pointer-events: auto;
      align-items: center; justify-content: center;
      transition: opacity 0.44s cubic-bezier(.45,0,.1,1.1);
    }
    .global-modal-close {
      position: fixed;
      top: 1.5vw; right: 2vw;
      background: transparent;
      border: none !important;
      box-shadow: none !important;
      outline: none !important;
      font-size: 2.8em;
      color: #ffbcc8;
      cursor: pointer;
      border-radius: 100px;
      line-height:1.1;
      z-index: 12000; padding: 0 0.15em;
      font-weight: bold; transition: background 0.14s, color 0.14s;
      display: none;
    }
    .modal-backdrop.active ~ .global-modal-close {
      display: block;
    }
    .global-modal-close:hover, .global-modal-close:focus { background: transparent; color: #ffbcc8; outline: none;}
    .modal-arrows-static {
      position: fixed;
      pointer-events: none;
      z-index: 10000;
      top: 50%;
      left: 0; width: 100vw; height: 0;
      display: flex; align-items: center; justify-content: space-between;
    }
    /* Modal navigation arrow buttons: Default (transparent), hover/focus get pink background + accent, no border/shadow on normal */
    .modal-caret {
      background: transparent !important;
      border: none;
      font-size: 2.4em;
      color: #ffbcc8;
      cursor: pointer;
      border-radius: 100px;
      width: 1.5em;
      height: 1.5em;
      min-width: 1.2em;
      min-height: 1.2em;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 24;
      pointer-events: auto;
      transition: background 0.14s, color 0.14s;
      margin: 0 1vw;
      box-shadow: none !important;
      position: relative;
      user-select: none;
    }
    .modal-caret svg {
      width: 1em;
      height: 1em;
      display: block;
    }
    @media (max-width: 700px) {
      .modal-caret {
        font-size: 1.05em;
        width: 1.18em;
        height: 1.18em;
        min-width: 1em;
        min-height: 1em;
      }
      .modal-caret svg {
        width: 0.8em;
        height: 0.8em;
      }
    }
    
        .modal-caret:hover, .modal-caret:focus, .modal-caret:active {
              background: transparent !important;
              outline: none;
              /* Highlight the triangle fill color (SVG) visually on hover/focus */
            }
            .modal-caret:hover svg polygon, .modal-caret:focus svg polygon, .modal-caret:active svg polygon {
              fill: #f49cbb;
              filter: drop-shadow(0 0 4px #ffbcc7cc);
    }
    .modal-content-wrap {
      position: relative; width: 0; height: 0; display: flex; align-items: center; justify-content: center;
    }
    .modal-content-anim {
      position: absolute; left: 50%; top: 50%;
      background: #fff; box-shadow: 0 8px 40px #000a; border-radius: 12px;
      padding: 1.9em 1.5em 1.5em 1.5em;
          min-width: 440px; min-height: 270px;
          max-width: 90vw; max-height: 90vh;
          width: auto;
          box-sizing: border-box;
          display: flex;
          flex-direction: column;
          align-items: stretch;
          justify-content: center;
          overflow: visible;
          will-change: transform, opacity;
          transition:
            transform 0.47s cubic-bezier(.85,.26,.16,1.34),
            opacity 0.37s cubic-bezier(.5,.4,.18,1.0);
          opacity: 1;
          transform: translate(-50%,-50%);
        }
        .modal-label {
          word-break: break-word;
          white-space: normal;
          overflow-wrap: anywhere;
          padding-left: 0; padding-right: 0;
          width: 100%;
          min-width: 0;
          max-width: 100%;
          background: #fff;
          box-sizing: border-box;
          flex: 0 0 auto;
    }
    .modal-content-anim.modal-fadein {
      opacity: 0;
      animation: modal-fadein 0.32s ease-out forwards;
    }
    .modal-content-anim.modal-fadeout {
      opacity: 1;
      animation: modal-fadeout 0.32s ease-in forwards;
    }
    @keyframes modal-fadein { from { opacity: 0; } to { opacity: 1; } }
    @keyframes modal-fadeout { from { opacity: 1; } to { opacity: 0; } }
    .modal-label {
      order: 0;
      line-height: 1.5 !important;
      font-size: 1.55em; color: #F48FB1; font-weight: bold;
      margin-bottom: 0.7em; margin-top: 0em; text-align: center;
      padding-left: 0; padding-right: 0;
      width: 100%; max-width: 100%; background: #fff; box-sizing: border-box; word-break: break-word;
      flex: 0 0 auto;
    }
    .modal-desc {
      order: 2;
      font-size: 1.1em; color: #322; text-align: center;
      margin: 0.52em 0 0.52em 0;
      max-width: 94vw; line-height: 1.5; background: #fff; word-break: break-word;
      width: 100%; box-sizing: border-box;
      flex: 0 0 auto;
    }
    .modal-slideshow {
      order: 1;
      position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          flex: 1 1 auto;
          width: 100%;
          height: 100%;
          margin: 0 0 .6em 0;
          background: none !important; box-shadow: none !important;
          min-width: 150px;
          min-height: 120px;
    }
    .modal-slide-img {
          display: block;
          margin: 0 auto;
              width: auto;
              height: auto;
              max-width: 100%;
              max-height: 100%;
              object-fit: contain;
          min-width: 33vw !important;
          border: none !important; background: none !important; box-shadow: none !important;
          z-index: 10;
          box-sizing: border-box;
    }
    .spinner {
      display: flex;
      width: 100%;
      flex: 1 1 auto;
      align-items: center;
      justify-content: center;
      min-height: 90px;
      min-width: 90px;
      position: absolute;
      left: 0; right: 0; top: 0; bottom: 0;
      z-index: 9;
      pointer-events: none;
    }
    .lds-ring { display: inline-block; position: relative; width: 36px; height: 36px; }
    .lds-ring div {
      box-sizing: border-box;
      display: block;
      position: absolute;
      width: 26px;
      height: 26px;
      margin: 4px;
      border: 4px solid #F48FB1;
      border-radius: 50%;
      animation: lds-ring 1.2s cubic-bezier(0.65,0,0.45,1) infinite;
      border-color: #F48FB1 transparent transparent transparent;
    }
    .lds-ring div:nth-child(1) { animation-delay: -0.45s; }
    .lds-ring div:nth-child(2) { animation-delay: -0.3s; }
    .lds-ring div:nth-child(3) { animation-delay: -0.15s; }
    @keyframes lds-ring { 0% { transform: rotate(0deg);} 100% {transform: rotate(360deg);} }
    @media (max-width: 700px) {
      .modal-content-anim { min-width: 76px; min-height: 86px; padding: 0.75em 0.5em 0.5em 0.5em; max-width: 99vw; width: auto; }
      .modal-label { font-size: 1.05em; margin-bottom:.75em; margin-top:0.0em;}
      .modal-desc { font-size:0.90em; margin: 0.18em 0 0.18em 0;}
      .modal-arrow { font-size: 1.28em; width: 48px; height: 48px; min-width: 44px; min-height: 44px; padding: 0 6px; }
      .modal-slideshow { max-width: 99vw; min-width: 55vw; min-height: 52px; }
      .modal-slide-img { max-width: 100%; max-height: 21vh; min-width:75vw !important; min-height:21px; box-sizing: border-box; }
      .spinner { min-width: 7vw; min-height: 32px;}
      .lds-ring { width: 19px; height: 19px;}
      .lds-ring div { width: 12px; height: 12px; margin: 2px; border-width: 3px;}
      .global-modal-close { font-size: 1.29em; top:0.22em; right:0.55em; }
    }
  </style>
</head>
<body>
  <div class="quilt-wrap" id="quiltWrap">
    <img src="https://dearyall.net/wp-content/uploads/2026/01/quilt-lowres.jpg" id="quilt-bg" alt="Quilt Background">
    <svg id="patch-rects"></svg>
    </div>
  <div class="modal-backdrop" id="modal">
    <div class="modal-arrows-static">
      <span class="modal-caret" id="modalPrev" aria-label="Previous patch" title="Previous patch" tabindex="0" role="button"><svg width="32" height="32" viewBox="0 0 32 32" style="display:inline-block;vertical-align:middle" aria-hidden="true"><polygon points="22,4 10,16 22,28" fill="#ffbcc8"/></svg></span>
            <span class="modal-caret" id="modalNext" aria-label="Next patch" title="Next patch" tabindex="0" role="button"><svg width="32" height="32" viewBox="0 0 32 32" style="display:inline-block;vertical-align:middle" aria-hidden="true"><polygon points="10,4 22,16 10,28" fill="#ffbcc8"/></svg></span>
    </div>
    <div class="modal-content-wrap" id="modalContentWrap"></div>
  </div>
  <button class="global-modal-close" id="modalCloseGlobal" aria-label="Close" style="display:none">&times;</button>
  <script>
    let patches =
[
  {
    "left": 30,
    "top": 69,
    "width": 122,
    "height": 131,
    "label": "What a Time to be Alive by Jade Chang",
    "desc": "Tragedy turns this girly into an influencer. <a href=\"https://wearerooted.xyz/jade-chang-what-a-time-to-be-alive/\"> Full review here</a>",
    "filename": "patch-1.jpg"
  },
  {
    "left": 40,
    "top": 205,
    "width": 130,
    "height": 122,
    "label": "Misbehaving at the Crossroads: Essays & Writings by Honorée Fanonne Jeffers",
    "desc": "Fantastic essay collection",
    "filename": "patch-2.jpg"
  },
  {
    "left": 156,
    "top": 78,
    "width": 99,
    "height": 137,
    "label": "Better Ways to Read the Bible by Zach Lambert",
    "desc": "From book club! Super interesting even though I don't agree with everything he said. ",
    "filename": "patch-3.jpg"
  },
  {
    "left": 260,
    "top": 91,
    "width": 98,
    "height": 137,
    "label": "My Body is not a Prayer Request by Amy Kenny",
    "desc": "",
    "filename": "patch-4.jpg"
  },
  {
    "left": 358,
    "top": 95,
    "width": 112,
    "height": 128,
    "label": "Lightbreakers by Aja Gabel",
    "desc": "Book about time travel which made me cry. <a href=\"https://midbrow.org/lightbreakers-book-review/\">Full review </a>",
    "filename": "patch-5.jpg"
  },
  {
    "left": 466,
    "top": 89,
    "width": 129,
    "height": 125,
    "label": "I'm laughing because I'm crying by Youngmi Mayer",
    "desc": "",
    "filename": "patch-6.jpg"
  },
  {
    "left": 602,
    "top": 73,
    "width": 113,
    "height": 122,
    "label": "Everything is Tuberculosis by John Green",
    "desc": "John Green is a great nonfiction writer. ",
    "filename": "patch-7.jpg"
  },
  {
    "left": 727,
    "top": 61,
    "width": 141,
    "height": 121,
    "label": "Bad Blood: Secrets and Lies in a Silicon Valley Startup by John Carreyrou",
    "desc": "Sped right through this book about Elizabeth Holmes",
    "filename": "patch-8.jpg"
  },
  {
    "left": 874,
    "top": 60,
    "width": 130,
    "height": 112,
    "label": "Meet me at Blue Hour by Sarah Suk",
    "desc": "Gives “Eternal Sunshine of the Spotless Mind” vibes",
    "filename": "patch-9.jpg"
  },
  {
    "left": 856,
    "top": 176,
    "width": 143,
    "height": 57,
    "label": "Louisiana Book Festival Books",
    "desc": "All the Water in the World, High Heaven and After Color were all included on my science fiction panel!",
    "filename": "patch-10.jpg"
  },
  {
    "left": 201,
    "top": 249,
    "width": 62,
    "height": 69,
    "label": "Restaurant Kid",
    "desc": "",
    "filename": "patch-11.jpg"
  },
  {
    "left": 267,
    "top": 256,
    "width": 70,
    "height": 72,
    "label": "The Original Daughter",
    "desc": "",
    "filename": "patch-12.jpg"
  },
  {
    "left": 341,
    "top": 260,
    "width": 71,
    "height": 72,
    "label": "Everything I know about Love",
    "desc": "",
    "filename": "patch-13.jpg"
  },
  {
    "left": 418,
    "top": 253,
    "width": 73,
    "height": 73,
    "label": "Misbehaving at the Crossroads",
    "desc": "",
    "filename": "patch-14.jpg"
  },
  {
    "left": 495,
    "top": 249,
    "width": 76,
    "height": 72,
    "label": "Rouges",
    "desc": "",
    "filename": "patch-15.jpg"
  },
  {
    "left": 574,
    "top": 236,
    "width": 80,
    "height": 75,
    "label": "Culture Creep",
    "desc": "",
    "filename": "patch-16.jpg"
  },
  {
    "left": 657,
    "top": 229,
    "width": 82,
    "height": 68,
    "label": "The Yellow House",
    "desc": "",
    "filename": "patch-17.jpg"
  },
  {
    "left": 745,
    "top": 213,
    "width": 72,
    "height": 66,
    "label": "Like Happiness",
    "desc": "",
    "filename": "patch-18.jpg"
  },
  {
    "left": 56,
    "top": 337,
    "width": 128,
    "height": 117,
    "label": "We Could Be Rats: A Novel by Emily Austin",
    "desc": "",
    "filename": "patch-19.jpg"
  },
  {
    "left": 209,
    "top": 326,
    "width": 63,
    "height": 71,
    "label": "Maggie; or a man and a woman walk into a bar",
    "desc": "",
    "filename": "patch-20.jpg"
  },
  {
    "left": 748,
    "top": 284,
    "width": 70,
    "height": 65,
    "label": "Work Will Not Love You Back",
    "desc": "",
    "filename": "patch-21.jpg"
  },
  {
    "left": 324,
    "top": 354,
    "width": 100,
    "height": 99,
    "label": "Sunrise on the Reaping by Suzanne Collins",
    "desc": "By far the best prequel I've read this year. Makes all the other Hunger Games books feel more relevant",
    "filename": "patch-22.jpg"
  },
  {
    "left": 851,
    "top": 239,
    "width": 131,
    "height": 118,
    "label": "Algospeak: How Social Media Is Transforming the Future of Language by Adam Aleksic",
    "desc": "From Tiktok to my bookshelf - this was fascinating. ",
    "filename": "patch-23.jpg"
  },
  {
    "left": 75,
    "top": 459,
    "width": 128,
    "height": 127,
    "label": "Ten Incarnations of Rebellion by Vaishnavi Patel",
    "desc": "The rebellion is female <a href=\"https://www.theadvocate.com/baton_rouge/entertainment_life/books/ten-incarnations-of-rebellion/article_f9b58eea-ee95-498d-aa22-c0d9a3bcf408.html\" > full review </a>",
    "filename": "patch-24.jpg"
  },
  {
    "left": 216,
    "top": 405,
    "width": 69,
    "height": 59,
    "label": "You Didn't Hear this from me",
    "desc": "",
    "filename": "patch-25.jpg"
  },
  {
    "left": 225,
    "top": 473,
    "width": 71,
    "height": 62,
    "label": "The Factory",
    "desc": "",
    "filename": "patch-26.jpg"
  },
  {
    "left": 312,
    "top": 460,
    "width": 134,
    "height": 133,
    "label": "The Real Americans by Rachel Khong",
    "desc": "So amazing to meet Rachel IRL at the New Orleans book festival! This book inspired me to get a jade bracelet!",
    "filename": "patch-27.jpg"
  },
  {
    "left": 428,
    "top": 353,
    "width": 116,
    "height": 123,
    "label": "Margo's Got Money Troubles by Rufi Thorpe",
    "desc": "Single mom turns to OnlyFans to solve her financial problems.",
    "filename": "patch-28.jpg"
  },
  {
    "left": 549,
    "top": 367,
    "width": 90,
    "height": 91,
    "label": "My Friends by Fredrik Backman",
    "desc": "Fav author. Not his best book imho, but still a nice read. ",
    "filename": "patch-29.jpg"
  },
  {
    "left": 642,
    "top": 332,
    "width": 80,
    "height": 54,
    "label": "Catching Fire and Mocking Jay",
    "desc": "reread!",
    "filename": "patch-30.jpg"
  },
  {
    "left": 739,
    "top": 352,
    "width": 80,
    "height": 71,
    "label": "Love Songs of W.E.B. Du Bois",
    "desc": "",
    "filename": "patch-31.jpg"
  },
  {
    "left": 849,
    "top": 360,
    "width": 124,
    "height": 119,
    "label": "Biting the Hand by Julia Lee",
    "desc": "",
    "filename": "patch-32.jpg"
  },
  {
    "left": 444,
    "top": 493,
    "width": 100,
    "height": 85,
    "label": "How to Solve Your Own Murder by Kristen Perrin",
    "desc": "Sometimes it's better not to know your own fortune",
    "filename": "patch-33.jpg"
  },
  {
    "left": 548,
    "top": 463,
    "width": 100,
    "height": 108,
    "label": "Hunger Games",
    "desc": "reread!",
    "filename": "patch-34.jpg"
  },
  {
    "left": 647,
    "top": 397,
    "width": 71,
    "height": 76,
    "label": "James by Percival Everett",
    "desc": "Retelling of Adventure of Huckleberry Finn from Jim's perspective.",
    "filename": "patch-35.jpg"
  },
  {
    "left": 651,
    "top": 484,
    "width": 64,
    "height": 81,
    "label": "Until We Reckon: Violence, Mass Incarceration, and a Road to Repair by Danielle Sered",
    "desc": "",
    "filename": "patch-36.jpg"
  },
  {
    "left": 738,
    "top": 428,
    "width": 74,
    "height": 69,
    "label": "I know what you did",
    "desc": "",
    "filename": "patch-37.jpg"
  },
  {
    "left": 731,
    "top": 505,
    "width": 83,
    "height": 76,
    "label": "Make your way home",
    "desc": "",
    "filename": "patch-38.jpg"
  },
  {
    "left": 77,
    "top": 589,
    "width": 134,
    "height": 125,
    "label": "Our Last Wild Days by Anna Bailey",
    "desc": "An interesting take on the Louisiana murder investigation novel <a href=\"https://www.theadvocate.com/baton_rouge/entertainment_life/books/review-our-last-wild-days/article_2e5d7f83-0620-4d79-a2b4-7bfaff93c1d3.html\" > full review </a>",
    "filename": "patch-39.jpg"
  },
  {
    "left": 233,
    "top": 546,
    "width": 70,
    "height": 61,
    "label": "Julie Chan is Dead",
    "desc": "",
    "filename": "patch-40.jpg"
  },
  {
    "left": 341,
    "top": 602,
    "width": 191,
    "height": 192,
    "label": "Black in Blues by Imani Perry",
    "desc": "History of Black Americans through the color blue. \n\n<a href=\"https://www.theadvocate.com/baton_rouge/entertainment_life/books/black-in-blues-imani-perry/article_107733d4-dd9c-11ef-b7fc-fb9b064187bb.html\"> full review here </a>",
    "filename": "patch-41.jpg"
  },
  {
    "left": 528,
    "top": 582,
    "width": 123,
    "height": 110,
    "label": "Julie Chan is Dead by Liann Zhang",
    "desc": "Book so unhinged I could not review and opted to <a href=\"https://wearerooted.xyz/julie-chan-is-dead-and-the-dark-side-of-influencer-fame-a-q-a-with-author-liann-zhang/\">Q&A the author </a>",
    "filename": "patch-42.jpg"
  },
  {
    "left": 739,
    "top": 585,
    "width": 78,
    "height": 72,
    "label": "Rental House",
    "desc": "",
    "filename": "patch-43.jpg"
  },
  {
    "left": 839,
    "top": 489,
    "width": 130,
    "height": 120,
    "label": "Good Soil by Jeff Chu",
    "desc": "Still think about this daily. A journalist moves to Princeton to work on their farm seminary.",
    "filename": "patch-44.jpg"
  },
  {
    "left": 233,
    "top": 622,
    "width": 80,
    "height": 71,
    "label": "My Friends ",
    "desc": "",
    "filename": "patch-45.jpg"
  },
  {
    "left": 84,
    "top": 722,
    "width": 125,
    "height": 129,
    "label": "Goddess Complex by Sanjena Sathian",
    "desc": "Doppelgangers!",
    "filename": "patch-46.jpg"
  },
  {
    "left": 238,
    "top": 707,
    "width": 73,
    "height": 68,
    "label": "The Family Recipe",
    "desc": "",
    "filename": "patch-47.jpg"
  },
  {
    "left": 673,
    "top": 715,
    "width": 31,
    "height": 34,
    "label": "Katabasis by R.F. Kuang",
    "desc": "Worth the 500 pages. \n\n<a href=\"https://wearerooted.xyz/rf-kuang-katabasis-review/\"> Full review here </a>",
    "filename": "patch-48.jpg"
  },
  {
    "left": 744,
    "top": 659,
    "width": 74,
    "height": 67,
    "label": "The Alchemist",
    "desc": "",
    "filename": "patch-49.jpg"
  },
  {
    "left": 840,
    "top": 614,
    "width": 138,
    "height": 111,
    "label": "I Hope This Finds You Well by Natalie Sue",
    "desc": "Unhinged office behavior",
    "filename": "patch-50.jpg"
  },
  {
    "left": 239,
    "top": 788,
    "width": 72,
    "height": 81,
    "label": "Demon Copperhead",
    "desc": "",
    "filename": "patch-51.jpg"
  },
  {
    "left": 752,
    "top": 733,
    "width": 68,
    "height": 64,
    "label": "How to say Babylon",
    "desc": "",
    "filename": "patch-52.jpg"
  },
  {
    "left": 346,
    "top": 814,
    "width": 95,
    "height": 100,
    "label": "Rental House by Weike Wang",
    "desc": "",
    "filename": "patch-53.jpg"
  },
  {
    "left": 439,
    "top": 801,
    "width": 103,
    "height": 100,
    "label": "Authority by Andrea Long Chu",
    "desc": "Changed my thoughts on the role of negative reviews in society. ",
    "filename": "patch-54.jpg"
  },
  {
    "left": 540,
    "top": 700,
    "width": 122,
    "height": 114,
    "label": "When the World Tips Over by Jandy Nelson",
    "desc": "",
    "filename": "patch-55.jpg"
  },
  {
    "left": 847,
    "top": 730,
    "width": 132,
    "height": 118,
    "label": "all about love by bell hooks",
    "desc": "Apparently this was published the year I was born, but contains so much wisdom that feels completely contemporary.",
    "filename": "patch-56.jpg"
  },
  {
    "left": 81,
    "top": 856,
    "width": 112,
    "height": 126,
    "label": "The Poppy Fields by Nikki Erlick",
    "desc": "Grieving people sleep their sorrows away in this novel inspired by the Wizard of Oz. ",
    "filename": "patch-57.jpg"
  },
  {
    "left": 231,
    "top": 884,
    "width": 74,
    "height": 71,
    "label": "Sipsworth",
    "desc": "",
    "filename": "patch-58.jpg"
  },
  {
    "left": 344,
    "top": 920,
    "width": 97,
    "height": 100,
    "label": "Jesus and John Wayne by Kristin Kristin Kobes Du Mez",
    "desc": "Vital reading for understanding the white Evangelical movement and current day politics",
    "filename": "patch-59.jpg"
  },
  {
    "left": 445,
    "top": 903,
    "width": 105,
    "height": 97,
    "label": "Work in Progress by Kat Mackenzie",
    "desc": "Roadtrip through the UK",
    "filename": "patch-60.jpg"
  },
  {
    "left": 546,
    "top": 821,
    "width": 123,
    "height": 117,
    "label": "The Family Recipe by Carolyn Huynh",
    "desc": "Rare sophomore novel that's better than the debut\n\n<a href=\"https://www.theadvocate.com/baton_rouge/entertainment_life/books/the-family-recipe-new-orleans/article_98ff5cc0-141a-40ad-bee5-c149097f76c9.html\">Q&A the author </a>",
    "filename": "patch-61.jpg"
  },
  {
    "left": 757,
    "top": 809,
    "width": 69,
    "height": 60,
    "label": "Love Songs of W.E.B Du Bois",
    "desc": "",
    "filename": "patch-62.jpg"
  },
  {
    "left": 854,
    "top": 851,
    "width": 136,
    "height": 108,
    "label": "Here in the Dark: A Novel by Alexis Soloski",
    "desc": "Got me thinking about criticism with a side of missing person's case",
    "filename": "patch-63.jpg"
  },
  {
    "left": 70,
    "top": 991,
    "width": 128,
    "height": 131,
    "label": "Divergent series",
    "desc": "Reread the entire series after the Hunger Games",
    "filename": "patch-64.jpg"
  },
  {
    "left": 228,
    "top": 963,
    "width": 76,
    "height": 82,
    "label": "Butter",
    "desc": "",
    "filename": "patch-65.jpg"
  },
  {
    "left": 228,
    "top": 1052,
    "width": 70,
    "height": 74,
    "label": "The Volcano Daughters",
    "desc": "",
    "filename": "patch-66.jpg"
  },
  {
    "left": 352,
    "top": 1033,
    "width": 90,
    "height": 87,
    "label": "Homeseeking by Karissa Chen",
    "desc": "Best book I've read this year!\n\n<a href=\"https://wearerooted.xyz/homeseeking-karissa-chen/\">Full review here</a>",
    "filename": "patch-67.jpg"
  },
  {
    "left": 449,
    "top": 1013,
    "width": 111,
    "height": 103,
    "label": "The Three Lives of Cate Kay by Kate Fagan",
    "desc": "A refreshing love story!\n\n<a href=\"https://www.theadvocate.com/baton_rouge/entertainment_life/books/three-lives-cate-kay/article_858b19d0-d836-11ef-8f70-436d862dd021.html\">Full review here</a>",
    "filename": "patch-68.jpg"
  },
  {
    "left": 549,
    "top": 943,
    "width": 192,
    "height": 171,
    "label": "The Girls I've Been by Tess Sharpe",
    "desc": "Con-artist story",
    "filename": "patch-69.jpg"
  },
  {
    "left": 759,
    "top": 876,
    "width": 74,
    "height": 74,
    "label": "The Goddess Complex",
    "desc": "",
    "filename": "patch-70.jpg"
  },
  {
    "left": 760,
    "top": 956,
    "width": 73,
    "height": 68,
    "label": "Our Last Wild Days",
    "desc": "",
    "filename": "patch-71.jpg"
  },
  {
    "left": 765,
    "top": 1031,
    "width": 77,
    "height": 70,
    "label": "Everything is Tuberculosis",
    "desc": "",
    "filename": "patch-72.jpg"
  },
  {
    "left": 862,
    "top": 971,
    "width": 140,
    "height": 128,
    "label": "Make Your Way Home: Stories by Carrie R. Moore",
    "desc": "",
    "filename": "patch-73.jpg"
  },
  {
    "left": 61,
    "top": 1134,
    "width": 115,
    "height": 118,
    "label": "Work Won't Love You Back by Sarah Jaffe",
    "desc": "Helped me decide to leave my 9-5. ",
    "filename": "patch-74.jpg"
  },
  {
    "left": 211,
    "top": 1135,
    "width": 72,
    "height": 73,
    "label": "Satisfaction Cafe",
    "desc": "",
    "filename": "patch-75.jpg"
  },
  {
    "left": 291,
    "top": 1139,
    "width": 70,
    "height": 69,
    "label": "Nightcrawling",
    "desc": "",
    "filename": "patch-76.jpg"
  },
  {
    "left": 370,
    "top": 1130,
    "width": 69,
    "height": 72,
    "label": "One of our kind",
    "desc": "",
    "filename": "patch-77.jpg"
  },
  {
    "left": 447,
    "top": 1124,
    "width": 71,
    "height": 73,
    "label": "The Poppy Fields",
    "desc": "",
    "filename": "patch-78.jpg"
  },
  {
    "left": 522,
    "top": 1121,
    "width": 69,
    "height": 69,
    "label": "all about love",
    "desc": "",
    "filename": "patch-79.jpg"
  },
  {
    "left": 593,
    "top": 1119,
    "width": 80,
    "height": 73,
    "label": "Home of the Happy",
    "desc": "",
    "filename": "patch-80.jpg"
  },
  {
    "left": 678,
    "top": 1118,
    "width": 76,
    "height": 79,
    "label": "The Bright Years",
    "desc": "",
    "filename": "patch-81.jpg"
  },
  {
    "left": 758,
    "top": 1118,
    "width": 97,
    "height": 89,
    "label": "10 Incarnations of the Rebellion",
    "desc": "",
    "filename": "patch-82.jpg"
  },
  {
    "left": 875,
    "top": 1106,
    "width": 134,
    "height": 125,
    "label": "Let This Radicalize You: Organizing and the Revolution of Reciprocal Care by Kelly Hayes, Mariame Ka",
    "desc": "",
    "filename": "patch-83.jpg"
  },
  {
    "left": 39,
    "top": 1267,
    "width": 104,
    "height": 106,
    "label": "Just My Type by Falon Ballard",
    "desc": "Relationship prone journalist needs to stay single to land the job of her dreams. I don't want to talk about the number of journalist romcoms I've read this year",
    "filename": "patch-84.jpg"
  },
  {
    "left": 178,
    "top": 1251,
    "width": 107,
    "height": 113,
    "label": "Daughters of the New Year by E.M Tran",
    "desc": "New Orleans author!",
    "filename": "patch-85.jpg"
  },
  {
    "left": 299,
    "top": 1239,
    "width": 125,
    "height": 122,
    "label": "Sipsworth by Simon Van Booy",
    "desc": "Lonely woman makes a new friend, a mouse",
    "filename": "patch-86.jpg"
  },
  {
    "left": 438,
    "top": 1235,
    "width": 119,
    "height": 120,
    "label": "Good Dirt by Charmaine Wilkerson",
    "desc": "Not quite as page turning as Black Cake, but still good",
    "filename": "patch-87.jpg"
  },
  {
    "left": 554,
    "top": 1224,
    "width": 124,
    "height": 127,
    "label": "Rogues: True Stories of Grifters, Killers, Rebels and Crooks by Patrick Radden Keefe",
    "desc": "Not as edgy as it sounds haha, but a great book",
    "filename": "patch-88.jpg"
  },
  {
    "left": 685,
    "top": 1223,
    "width": 115,
    "height": 128,
    "label": "The Satisfaction Café by Kathy Wang",
    "desc": "",
    "filename": "patch-89.jpg"
  },
  {
    "left": 806,
    "top": 1236,
    "width": 103,
    "height": 117,
    "label": "Liturgy of the Ordinary: Sacred Practices in Everyday Life by Tish Harrison Warren",
    "desc": "reread!",
    "filename": "patch-90.jpg"
  },
  {
    "left": 912,
    "top": 1237,
    "width": 118,
    "height": 123,
    "label": "Culture Creep: Notes on the Pop Apocalypse by Alice Bolin",
    "desc": "Great book of essays about pop culture!",
    "filename": "patch-91.jpg"
  }
]
    const quiltImg = document.getElementById('quilt-bg');
    const patchRects = document.getElementById('patch-rects');
    let modalIdx = 0, animating = false, modalOpen = false, cleanupModalTimeout = null;

    const modal = document.getElementById('modal');
    const modalPrev = document.getElementById('modalPrev');
    const modalNext = document.getElementById('modalNext');
    const modalContentWrap = document.getElementById('modalContentWrap');
    const modalCloseGlobal = document.getElementById('modalCloseGlobal');

    // Extra JS: actively enforce the arrow button normal state after mouse leaves or blur (prevents sticky background)
    [modalPrev, modalNext].forEach(btn => {
      // Robustly force reset on all possible events where highlighting might stick
      function forceReset() {
        setTimeout(() => {
          btn.style.background = 'transparent';
          btn.style.boxShadow = 'none';
        }, 1); // Run after browser state, avoids race with :active
      }
      btn.addEventListener('mouseleave', forceReset);
      btn.addEventListener('mouseout', forceReset);
      btn.addEventListener('blur', forceReset);
      btn.addEventListener('mouseup', forceReset);
      // Defensive: keyup should also reset if any browser sticks focus
      btn.addEventListener('keyup', function(e) {
        if (e.key === 'Tab' || e.key === 'Enter' || e.key === 'Escape' || e.key === ' ') forceReset();
      });
    });

    function drawPatchRects() {
      if (!quiltImg.complete || !quiltImg.naturalWidth || !quiltImg.naturalHeight) return;
      // Get the size of the displayed (scaled) image
      const imgW = quiltImg.naturalWidth;
      const imgH = quiltImg.naturalHeight;
      const dispW = quiltImg.clientWidth;
      const dispH = quiltImg.clientHeight;

      // Set SVG to match the displayed image size for correct overlay
      patchRects.setAttribute('width', dispW);
      patchRects.setAttribute('height', dispH);
      patchRects.style.width = dispW + 'px';
      patchRects.style.height = dispH + 'px';
      patchRects.style.left = quiltImg.offsetLeft + 'px';
      patchRects.style.top  = quiltImg.offsetTop + 'px';
      // viewBox matches image's natural coordinate space for patch placement
      patchRects.setAttribute('viewBox', `0 0 ${imgW} ${imgH}`);
      patchRects.innerHTML = "";
      patches.forEach((p, idx) => {
        const rect = document.createElementNS('http://www.w3.org/2000/svg','rect');
        rect.setAttribute('class','patch-rect');
        rect.setAttribute('x', p.left);
        rect.setAttribute('y', p.top);
        rect.setAttribute('width', p.width);
        rect.setAttribute('height', p.height);
        rect.setAttribute('tabindex',0);
        rect.setAttribute('data-idx',idx);
        rect.addEventListener('mouseover', ()=>{ rect.classList.add('active'); });
        rect.addEventListener('mouseout',  ()=>{ rect.classList.remove('active'); });
        rect.addEventListener('focus',     ()=>{ rect.classList.add('active'); });
        rect.addEventListener('blur',      ()=>{ rect.classList.remove('active'); });
        rect.addEventListener('click', (e)=>{
          openModal(idx);
          e.stopPropagation();
        });
        patchRects.appendChild(rect);
      });
    }

    function openModal(idx) {
      if (cleanupModalTimeout) { clearTimeout(cleanupModalTimeout); cleanupModalTimeout = null; }
      document.querySelectorAll('.patch-rect').forEach(el => {
        el.classList.remove('active'); el.blur();
      });
      modalIdx = (idx + patches.length) % patches.length;
      renderModal(modalIdx, null, true);
      modalOpen = true;
      modal.classList.add('active');
      modalCloseGlobal.style.display = "block";
    }

    function slideToModal(newIdx, direction) {
      if (animating || newIdx === modalIdx) return;
      renderModal(newIdx, direction, false);
      modalIdx = (newIdx + patches.length) % patches.length;
    }

    function closeModal() {
      document.querySelectorAll('.patch-rect').forEach(el => el.blur());
      if (cleanupModalTimeout) clearTimeout(cleanupModalTimeout);
      const card = modalContentWrap.querySelector('.modal-content-anim');
      if(card) {
        card.classList.remove('modal-fadein');
        card.classList.add('modal-fadeout');
      }
      modal.classList.remove('active');
      modalCloseGlobal.style.display = "none";
      modalOpen = false;
      cleanupModalTimeout = setTimeout(()=>{
        if(card && card.parentNode) card.parentNode.removeChild(card);
        modalContentWrap.innerHTML = '';
        cleanupModalTimeout = null;
      },340);
    }

    modalCloseGlobal.onclick = closeModal;

    function createSpinner() {
      const spinner = document.createElement('div');
      spinner.className = 'spinner';
      spinner.innerHTML = `<div class="lds-ring"><div></div><div></div><div></div><div></div></div>`;
      return spinner;
    }

    function renderModal(idx, direction = null, isEnter = true) {
      if (animating) return;
      idx = (idx + patches.length) % patches.length;
      const p = patches[idx];
      const prevCard = modalContentWrap.querySelector('.modal-content-anim');
      // FLEX LAYOUT: label at top (order:0), slideshow mid (order:1, flex:1), desc at bottom (order:2)
      const card = document.createElement('div');
      card.className = 'modal-content-anim';
      card.innerHTML = `
        <div class="modal-label">${p.label ? p.label : `Patch ${idx+1}`}</div>
        <div class="modal-slideshow"></div>
        <div class="modal-desc">${p.desc ? p.desc : ''}</div>
      `;
      const slideDiv = card.querySelector('.modal-slideshow');
      const spinner = createSpinner();
      slideDiv.appendChild(spinner);

      if (p.filename) {
        const imgEl = document.createElement('img');
        imgEl.className = "modal-slide-img";
        imgEl.alt = p.label || '';
        imgEl.src = "https://dearyall.net/wp-content/uploads/2026/01/" + p.filename;

        // Always stretch images to fill modal slideshow area (width 100%, height auto)
        imgEl.style.opacity = '0';
        imgEl.style.width = "100%";
        imgEl.style.height = "auto";
        imgEl.style.minWidth = "110px";
        imgEl.style.minHeight = "90px";
        imgEl.style.maxWidth = "97vw";
        imgEl.style.maxHeight = "43vh";
        imgEl.onload = function() {
          spinner.style.display = 'none';
          imgEl.style.opacity = '1';
        };
        imgEl.onerror = function() {
          spinner.style.display = 'none';
          imgEl.style.background = "#e86e6e";
          imgEl.alt = "(thumbnail image not found)";
        };
        slideDiv.appendChild(imgEl);
      } else {
        spinner.style.display = 'none';
        slideDiv.innerHTML += '<div style="color:#902; background:#fee; padding:.5em; border-radius:5px;">No patch thumbnail (filename) set in JSON for this patch.</div>';
      }
      card.style.opacity = "1";
      let startTransform = "translate(-50%,-50%)";
      let endTransform = "translate(-50%,-50%)";
      if (direction === 'left')      startTransform = "translate(80vw,-50%)";
      else if (direction === 'right')startTransform = "translate(-180vw,-50%)";
      card.style.transform = startTransform;
      if (prevCard) prevCard.style.zIndex = "2";
      card.style.zIndex = "3";
      modalContentWrap.appendChild(card);

      setTimeout(() => {
        const lab = card.querySelector('.modal-label');
        if (lab) lab.focus && lab.focus();
      }, 350);

      if (isEnter || !prevCard) {
        card.classList.add('modal-fadein');
        if (prevCard && prevCard.parentNode)
          prevCard.parentNode.removeChild(prevCard);
      } else if (direction && prevCard) {
        animating = true;
        prevCard.style.transition = "transform 0.47s cubic-bezier(.85,.26,.16,1.34), opacity 0.37s cubic-bezier(.5,.4,.18,1.0)";
        if (direction === "left") prevCard.style.transform = "translate(-180vw,-50%)";
        else if (direction === "right") prevCard.style.transform = "translate(80vw,-50%)";
        prevCard.style.opacity = "0.6";
        setTimeout(() => {
          card.style.transition = "transform 0.47s cubic-bezier(.85,.26,.16,1.34), opacity 0.37s cubic-bezier(.5,.4,.18,1.0)";
          card.style.transform = endTransform;
        }, 10);
        setTimeout(() => {
          if (prevCard.parentNode) prevCard.parentNode.removeChild(prevCard);
          animating = false;
        }, 480);
      } else {
        if (prevCard && prevCard.parentNode)
          prevCard.parentNode.removeChild(prevCard);
        card.style.transition = "none";
        card.style.transform = endTransform;
      }
    }

    modalPrev.addEventListener('click', ()=>{
      if(!modalOpen || animating) return;
      slideToModal((modalIdx-1+patches.length) % patches.length, 'right');
    });
    modalNext.addEventListener('click', ()=>{
      if(!modalOpen || animating) return;
      slideToModal((modalIdx+1) % patches.length, 'left');
    });

    window.addEventListener('keydown', e => {
      if(modalOpen && modal.classList.contains('active') && !animating) {
        if(e.key==="Escape"||e.key==="Esc"){ closeModal(); }
        else if(e.key==="ArrowLeft"||e.key==="Left"){ slideToModal((modalIdx-1+patches.length)%patches.length,'right'); }
        else if(e.key==="ArrowRight"||e.key==="Right"){ slideToModal((modalIdx+1)%patches.length,'left'); }
      }
    });

    ['touchstart','mousedown'].forEach(evt => {
      modal.addEventListener(evt, function(e){
        if(modal.classList.contains('active') && e.target === modal) {
          closeModal();
          e.stopPropagation();
          e.preventDefault();
        }
      }, {capture: false});
    });

    window.addEventListener('resize', ()=>{
      if(quiltImg.complete && patches.length) drawPatchRects();
      if(modalOpen && modal.classList.contains('active')) renderModal(modalIdx,null);
    });
    quiltImg.onload = ()=>{
      if(patches.length) drawPatchRects();
    };

    window.onload = function() {
      drawPatchRects();
    };

  </script>
<footer id="quiltFooter" style="font-size: 0.75em; z-index: 100; text-align: center;">&copy; 2026 Isaac Lo. All rights reserved.</footer>
</body>
</html>
